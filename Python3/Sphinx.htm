<!DOCTYPE html>
<html>
	<head>
		<title>Python</title>
		<link rel="stylesheet" href="../css/atelier-sulphurpool-light.css" type="text/css">
		<script src="../js/google-code-prettify/run_prettify.js?autoload=true&amp;lang=css"></script>
		<style>
			div.title {color: navy; font-weight: bold; width: 80%; font-size: 32px; text-align: center; position: relative; margin: auto;}
			div.subtitle {color: navy; font-weight: bold; width: 80%; font-size: 24px; text-align: position: relative; margin: auto;}
			div.block {color: navy; font-weight: bold; width: 80%; border-style: solid; padding: 5px; position: relative; margin: 10px auto; border-radius: 5px;}
			span {color: red; font-weight: bold;}
		</style>
	</head>
	<body>
		<div class = "title">
			Sphinx
		</div>

		<div class = "block">
			Sphinx is widely used to generate python document. Here is a brief tutorial to generate your own doc
		</div>
		<div class = "subtitle">0. Source Code Layout</div>
		<div class = "block">
			<li><a href = "./Unittest_source.htm">Source Code</a></li>
		<pre class = "prettyprint linenums">
# get source code 
git clone https://github.com/lin-chen-Langley/prime
		</pre>
			<p style = "text-align:center;"><img src = "img/Build_2.png" width = "40%"></p>
		</div>
		<div class = "subtitle">1. Quick Start</div>
		<div class = "block">
			Inside "Prime" folder, <span>sphinx-quickstart doc</span>, if on Linux system
	<ul>
		<li>Separate source and build directories (y/n) [n], press "Enter"</li>
		<li>Project name: yourProjectName</li>
		<li>Author Name: yourName</li>
		<li>Project version []: yourProjectVersion</li>
		<li>Project release [0.1], press "Enter"</li>
		<li>Project language [en], press "Enter"</li>
	</ul>
	<ul>
			<p style = "text-align:center;"><img src = "img/Doc_1.png" width = "40%"></p>
</ul>
</li>
		</div>
		<div class = "subtitle">2. Generate rst files</div>
		<div class = "block">
			<span>sphinx-apidoc -o doc ./src</span> inside "Prime" folder, generate a rst file for each py file or each package under "src" folder, and save them to "doc" folder
			<p style = "text-align:center;"><img src = "img/Doc_2.png" width = "40%"></p>
		</div>
		<div class = "subtitle">3. Configuration</div>
		<div class = "block">
1. edit conf.py in "doc" folder, define where to search the source code
<pre>
<span>import os</span>
<span>import sys</span>
<span>sys.path.insert(0, os.path.abspath('../src'))</span>
</pre>
2. edit theme, <a href = "https://www.sphinx-doc.org/en/master/usage/theming.html#builtin-themes">built-in themes</a>
<pre>
<span>html_theme = 'classic'</span>
</pre>
3. edit extensions
<pre>
<span>extensions = ['sphinx.ext.autodoc']</span>
</pre>
		</div>
		<div class = "subtitle">4. Add display content</div>
		<div class = "block">
			edit <span>index.rst</span> in "doc" folder, add rst files for the modules and packages that will be shown in <span>index.html</span>, use <a href = "https://docutils.sourceforge.io/docs/user/rst/quickref.html">reStructuredText</a> to edit the file, rst files are initial documentation files
<pre>
.. toctree:: 
     :maxdepth: 2
     <strike>:caption: Contents:</strike>
     :glob: 
---Blank Line--- 
.. use three spaces instead of a tab
     modules.rst
</pre>
		</div>
		<div class = "subtitle">5. Organize display content </div>
		<div class = "block">
			edit <span>modules.rst</span>, change the title from "src" to "packages"
		</div>
		<div class = "subtitle">5. Generate documentaion</div>
		<div class = "block">
			<span>make html</span> in "doc" folder, save the generated html doc to _build
		</div>
		<div class = "subtitle">Add logo</div>
		<div class = "block">
			<p style = "text-align:center;"><img src = "img/Doc_3.png" width = "40%"></p>
			1. edit conf.py in "doc" folder
			<pre>
# The name of an image file (relative to this directory) to place at the top
# of the sidebar.
<span>html_logo = 'img/prime.jepg'</span>
			</pre>
			2. <span>make html</span>, in "doc" folder
		</div>
		<div class = "subtitle">Generate pdf doc</div>
		<div class = "block">
			<li>Mac OS
				<ul>
					<li>Install <a href = "https://www.macports.org/install.php">Manport</a></li>
					<li>sudo port install texlive texlive-latex-extra, install latex</li>
					<li>make latexpdf, create latex files and a pdf file in _build/latex</li>
				</ul>
			</li>
			<li>Ubuntu
				<ul>
					<li>sudo apt-get install texlive-base texlive-latex-recommended texlive-latex-extra texlive-fonts-recommended texlive-fonts-extra texlive-latex-base texlive-font-utils</li>
					<li>sudo apt-get install latexmk</li>
					<li>make latexpdf, create latex files and a pdf file in _build/latex</li>
				</ul>
			</li>
		</div>
		<div class = "subtitle">Reference</div>
		<div class = "block">
			<li><a href = "https://sphinx-themes.org/">Sphinx Themes</a></li>
			<li><a href = "https://codeandchaos.wordpress.com/2012/07/30/sphinx-autodoc-tutorial-for-dummies/">Sphinx Autodoc Tutorial for Dummies</a></li>
			<li><a href = "https://github.com/ReactiveX/RxPY/pull/101/commits/69ccb18d84eb73558e92e44d32fac1c1098e9e4f">Sphinx Docs, Logo and Updated Docstrings</a></li>
			<li><a href = "https://media.readthedocs.org/pdf/brandons-sphinx-tutorial/latest/brandons-sphinx-tutorial.pdf">Brandonâ€™s Sphinx Tutorial</a></li>
		</div>
	</body>
</html>
