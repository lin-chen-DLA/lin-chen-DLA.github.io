<!DOCTYPE html>
<html>
	<head>
		<title>Python</title>
		<link rel="stylesheet" href="../css/atelier-sulphurpool-light.css" type="text/css">
		<script src="../js/google-code-prettify/run_prettify.js?autoload=true&amp;lang=css"></script>
		<style>
			div.title {color: navy; font-weight: bold; width: 80%; font-size: 32px; text-align: center; position: relative; margin: auto;}
			div.subtitle {color: navy; font-weight: bold; width: 80%; font-size: 24px; text-align: position: relative; margin: auto;}
			div.block {color: navy; font-weight: bold; width: 80%; border-style: solid; padding: 5px; position: relative; margin: 10px auto; border-radius: 5px;}
		</style>
	</head>
	<body>
		<div class = "title">
			urllib
		</div>

		<div class = "subtitle">urllib.request.urlopen</div>
		<div class = "block">
		<pre class = "prettyprint linenums">
from urllib import request

with request.urlopen('http://python.org/') as response:
   html = response.read()
   print(html)
		</pre>
		</div>

		<div class = "subtitle">urllib.request.Request</div>
		<div class = "block">
		<pre class = "prettyprint linenums">
import urllib.request

req = urllib.request.Request('http://www.voidspace.org.uk') # Request represents the HTTP request
with urllib.request.urlopen(req) as response: # response is a file-like object
   the_page = response.read()
		</pre>
		</div>

		<div class = "subtitle">Data</div>
		<div class = "block">
		<pre class = "prettyprint linenums">
import urllib.parse
import urllib.request

url = 'https://www.w3schools.com/action_page.php'
headers = {
        "User-Agent" : "Mozilla/5.0 (X11; U; Linux i686; " + \
                "en-US; rv:1.9.2.24) Gecko/20111107 " + \
                "Linux Mint/9 (Isadora) Firefox/3.6.24",
                }

data = {'firstname':'Mickey', 'lastname':'Mouse'}
data = urllib.parse.urlencode(data)
data = data.encode('ascii')

req = urllib.request.Request(url, data, headers)
response = urllib.request.urlopen(req)

html = response.read()
print(html)
		</pre>
		</div>

		<div class = "subtitle">Headers</div>
		<div class = "block">
		<pre class = "prettyprint linenums">
import urllib.request

url = 'https://www.redfin.com/city/30818'
headers = {
        "User-Agent" : "Mozilla/5.0 (X11; U; Linux i686; " + \
                "en-US; rv:1.9.2.24) Gecko/20111107 " + \
                "Linux Mint/9 (Isadora) Firefox/3.6.24",
                }

data = {}
req = urllib.request.Request(url, data, headers)
response = urllib.request.urlopen(req)

html = response.read()
print(html)
		</pre>
		</div>
		<div class = "subtitle">URLError</div>
		<div class = "block">
		<pre class = "prettyprint linenums">
import urllib.request

req = urllib.request.Request('http://www.pretend_server.org')
try: 
    response = urllib.request.urlopen(req)
except urllib.error.URLError as e:
    print(e.reason)
		</pre>
		</div>
		<div class = "subtitle">Reference</div>
		<div class = "block">
			<li><a href = "https://docs.python.org/3/howto/urllib2.html">Python3 Howto</a></li>
		</div>
	</body>
</html>
