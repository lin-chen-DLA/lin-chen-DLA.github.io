<!DOCTYPE html>
<html>
	<head>
		<title>Linux</title>
		<link rel="stylesheet" href="../css/atelier-sulphurpool-light.css" type="text/css">
		<script src="../js/google-code-prettify/run_prettify.js?autoload=true&amp;lang=css"></script>
		<style>
			div.title {color: navy; font-weight: bold; width: 80%; font-size: 32px; text-align: center; position: relative; margin: auto;}
			div.subtitle {color: navy; font-weight: bold; width: 80%; font-size: 24px; text-align: position: relative; margin: auto;}
			div.block {color: navy; font-weight: bold; width: 80%; border-style: solid; padding: 5px; position: relative; margin: 10px auto; border-radius: 5px;}
			span {color: red}
		</style>
	</head>
	<body>
		<div class = "title">
			User
		</div>

		<div class = "subtitle">Add user</div>
		<div class = "block">
			<li>sudo adduser userName, add a single user and create the home directory with default bash</li>
			<li>sudo useradd -d homeDirectory -u userID -g groupID -s loginShell
			<pre class = "prettyprint linenums">
#!/bin/bash
# add a single user

# read username and password
read -p "Enter user name: " username

# add the user and create the home directory
useradd -m $username -s /bin/bash

# create password for the user
passwd $username

# switch to the created user
# copy a .bashrc template to the home directory of the created user
sudo -u $username cp -f /home/lchen/.bashrc /home/$username
			</pre>
			<pre class = "prettyprint linenums">
#!/bin/bash
# add multiple users

for i in `more namelist.txt`
do
        useradd -m $i -s /bin/bash
        echo -e "$i\n$i" | passwd $i
done
			</pre>
		</div>
		<div class = "subtitle">Switch to a user</div>
		<div class = "block">
			<li>whoami, check the current username</li>
			<li>sudo -u userName bash, switch to a specific user</li>
			<li>sudo -u userName command; command; carry out commands with permission of a specific user</li>
		</div>
		<div class = "subtitle">Display users</div>
		<div class = "block">
			<li>cat /etc/passwd, username, password, user ID, group ID, user info, home directory, bash shell</li>
		</div>
		<div class = "subtitle">Remove user</div>
		<div class = "block">
			<li>sudo userdel -r userName, remove a user and the home directory</li>
			<pre class = "prettyprint linenums">
#!/bin/bash
# remove multiple users

for i in `more namelist.txt`
do
        userdel -r $i
done
			</pre>
		</div>
		<div class = "subtitle">Add a user to sudo</div>
		<div class = "block">
			<li>sudo adduser userName sudo</li>
		</div>
		<div class = "subtitle">Reference</div>
		<div class = "block">
			<ul>
				<li><a href = "https://www.tecmint.com/add-users-in-linux/">Add User</a></li>
			</ul>
		</div>
	</body>
</html>
